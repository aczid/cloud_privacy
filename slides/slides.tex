\documentclass{beamer}

\usepackage[english]{babel}
\usepackage{graphicx,hyperref,ru}

% A few hacks to get references via bibtex (easy reuse for paper)
\usepackage{bibentry}
\nobibliography*
\let\newblock\relax
\setbeamertemplate{bibliography item}{}

\title{Privacy in Cloud Computing}

\author{Aram Verstegen \and Erik Boss}

\institute{Radboud University Nijmegen}

\date{\today}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{Outline}
  \tableofcontents
\end{frame}

% These frametitles are kinda tongue-in-cheek, not sure if I want to keep them -- Erik

\section{Introduction}
% I estimate this section at about 20 minutes (depending on amount questions)

\begin{frame}
  \frametitle{Outline}
  \tableofcontents[currentsection,currentsubsection]
\end{frame}

\begin{frame}
    \frametitle{What are we dealing with?}
    %/* General definitions, explanations on cloud computing: SaaS/PaaS/IaaS
    %(with a picture?), public/private/community/hybrid clouds  */
    \begin{itemize}
        \item Software as a Service (SaaS) \\
            Webmail, online storage, social media
        \item Platform as a Service (PaaS) \\
            Virtual application platforms
        \item Infrastructure as a Service (IaaS) \\
            Scalable computing and storage services
        \item<0> Test: \bibentry{takabi2010security} % remove after real references added in
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{A picture is worth\dots}
    \begin{figure}
        \includegraphics[height=\textheight]{../img/cloudoverview.png}
        \label{fig:cloudoverview}
    \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Whom are we dealing with?}
    \only<1>{
    Roles:
    \begin{itemize} % We might put this in a pyramid diagram
        \item Cloud service providers that offer XaaS
        \item Cloud service users that build services on said service
        \item Customers of these services
    \end{itemize}
    }

    \only<2>{
    Cloud Service providers:
    \begin{itemize}
    \item SaaS \\
        Google, Apple, Microsoft
    \item PaaS \\
        Google AppEngine, Amazon AWS, Microsoft Azure (SQL), EngineYard,
        Heroku
    \item IaaS \\
        Amazon EC2 / S3, Google Compute Engine / BigQuery, Linode
    \end{itemize}
    }
    % Cloud service users: some sites you use, customers: you
\end{frame}

\begin{frame}
    \frametitle{Why does the industry like it?}
    %/* Why use cloud computing at all; virtualization, scaling, fast
    %deployment, pay-for-use, etc  */
    \begin{itemize}
        \item Cost
        \item Fast wide scalability
        \item Pay as you go
        \item Outsource responsibility
        \item Has better security than most providers
        \item Buzz
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Why should we be skeptical?}
    %/* What are the problems; general overview of the security requirements and
    %problems (depending on type of cloud); picture(s) about cloud security for
    %fun and profit */
    \begin{itemize}
        \item Centralized assets
        \item Less diversity
        \item Resource sharing (logical segregation)
        \item Usually has better security
        \item But: major impact when breaches do occur
        \item Typical centralized versus decentralized discussion
        \item Faith in the cloud provider?
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{My privates?}
    \begin{itemize}
      \item E-mail address
      \item IP address
      \item Username
      \item Password
      \item Banking details
      \item Medical records
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Might your data be in peril?}
    %/* Global overview on specific privacy concerns w.r.t. clouds; example(s)
    %of how things can go badly; primarily: why does it matter! */
    \begin{itemize}
        \item ``Real name policy''
        \item Data ownership
        \item Continuity
        \item Local legislation % For example: age of consent in various countries - flickr picture legal one place, illegal in another
            %\item Piracy claims vs Fair use % (YouTube knows about that song you ripped off and is obliged to tell the authorities)
        \item The declining cost of storing \textbf{everything}
        \item Thus making breaches evermore dangerous, however they occur
        \item The ability to analyse large amounts of personal data
        \item SLA/EULA
        \item Again: faith...?
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Provider viewpoints}
    \begin{itemize}
        \item \textbf{Google}: ``Onze menukaart is beperkt, maar je kunt toch weg? Dan moet
        je verder niet zeiken'' (``Google weigert data in Europa te houden'' -
        Webwereld, 2011)
    \item \textbf{Microsoft}: ``Microsoft cannot provide those guarantees. Neither can
        any other company'' (``Microsoft admits Patriot Act can access EU-based
        cloud data'' - ZDnet, 2011)
    \item \textbf{Amazon}: ``Customers can choose to store all data in the EU by using
        the EU (Ireland) Amazon S3 Region.'' (Amazon S3 FAQ)
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Dude, where's my data?}
    Where is our data?
    \begin{itemize}
        \item In general: we do not know
        \item And it is hard to find out
        \item But sometimes we do\dots (OV chipkaart: Talys, France)
    \end{itemize}

    \begin{block}{Essential idea}<2>
    The \emph{cloud} is an abstraction.
    \end{block}
\end{frame}

\section{Legal aspects}
% Another 20 minutes should be doable

\begin{frame}
  \frametitle{Outline}
  \tableofcontents[currentsection,currentsubsection]
\end{frame}

\begin{frame}
    \frametitle{Because a little reminder is always nice}
    %/* Quick recap of the most important and relevant legislation, i.e., data
    %protection and privacy directives. */
    \begin{itemize}
        \item EU Data Protection Directive 95/46/EC
        \item e-privacy Directive 2002/58/EC % Cookiewet!
        \item US-EU Safe Harbor principle
        \item PATRIOT act
        \item Safe Harbor principle (as per 95/46/EC)
        \item WBP (NL)
    \end{itemize}

    \begin{itemize}
        \item Data subject
        \item Data controller (client) \checkmark
        \item Data processor (provider) \checkmark
    \end{itemize}
    % Data processors have it easier WRT legal requirements
\end{frame}

\begin{frame}
    \frametitle{Houston, we've got a problem}
    General legal problems in cloud computing:
    \begin{itemize}
        \item Multi-jurisdiction
        \item Multi-tenancy
    \end{itemize}

    \begin{block}
        Entails the problems emerging due to different users belong to
        different jurisdictions on a single system in possibly another
        jurisdiction.
    \end{block}
\end{frame}

\begin{frame}
    \frametitle{Ship ahoy!}
    \begin{columns}[t]
        \column{0.5\textwidth}
        US:
        \begin{itemize}
            \item Notice
            \item Choice
            \item Onward Transfer
            \item Security
            \item Data Integrity
            \item Access
            \item Enforcement
        \end{itemize}
        \column{0.5\textwidth}
        EU:
        \begin{itemize}
            \item Fairly and lawfully
            \item Purposeful
            \item Proportional
            \item Data Integrity (accuracy)
            \item Consent
            \item Notice
            \item Access
            \item Choice
            \item Safeguards, safeguards everywhere
        \end{itemize}
    \end{columns}
    %\begin{itemize}
        %\item \textbf{Notice} - data subjects should be given notice when their data is being collected;
        %\item \textbf{Purpose} - data should only be used for the purpose stated and not for any other purposes;
        %\item \textbf{Consent} - data should not be disclosed without the data subject's consent;
        %\item \textbf{Security} - collected data should be kept secure from any potential abuses;
        %\item \textbf{Disclosure} - data subjects should be informed as to who is collecting their data;
        %\item \textbf{Access} - data subjects should be allowed to access their data and make corrections to any inaccurate data; and
        %\item \textbf{Accountability} - data subjects should have a method available to them to hold data collectors accountable for following the above principles.
    %\end{itemize}
\end{frame}

\begin{frame}
    \frametitle{General Data Protection Regulation: ETA 2014-2016}
    \begin{itemize}
    \item Expands on cloud computing
    \item Also applies to data processors outside the EU
    \item Fines up to 2\% of annual global sales can be imposed
    \end{itemize}

    \begin{itemize}
    \item Privacy by Design and by Default
    \item Right to be forgotten
    \item Data portability
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Service Level Agreements (SLAs)}
    \begin{itemize}
    \item Contract law
    \item May require you to:
      \begin{itemize} % http://www.networkworld.com/news/2012/120612-hp-amazon-cloud-264847.html?page=2
        \item occupy two mirrored instances at different datacenters
        \item may allow one of these to go down at points
        \item may give different guarantees for different aspects
      \end{itemize}
    \item Are often unnecessarily vague
    \item Big customers may stipulate that they own the harddrives containing their data
    \end{itemize}
    \footnotesize{``Gartner: Amazon, HP cloud SLAs are `practically useless''', NetworkWorld, 2012}
\end{frame}

\begin{frame}
    \frametitle{Accountability beyond data transfer}
    \begin{itemize}
    \item ISO27001, standards for information security
    \item SAS70, statement on Auditing Standards
    \item SSAE16, statement on Standards for Attestation Engagements
    \item ISAE 3402, International Standards for Security Engagements
    \item Third party memorandum 
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{There is more to law than code}
    %/* If we do manage to find relevant case law, put it here */
    Article 29 Working Party - (draft) Opinion on cloud computing
    \begin{itemize}
    \item Legal code for data protection reaffirmed
    \item Concerned about confidentiality integrity, availability, isolation, transparency, 
    \item Advises comprehensive risk analysis before moving to cloud
    \item Consider risks, legal requirements, sensitive data
    \item Actually provides a checklist
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{As always: ``it depends''}
    Who is responsible for what?
    \begin{itemize}
        \item IaaS:
            Relatively low level; service provider primarily responsible for availability
            and hypervisor and physical security. The rest is the user's
            responsibility.
        \item PaaS:
            Additionaly, requires the provider to make sure the platform is
            properly protected, e.g., expose only secure tooling. User's
            responsibility lies primarily in securing developed applications.
        \item SaaS:
            Service provider needs to provide as much security on all fronts as
            possible. User of said service can, and should, assume that the
            service is adequatly secured.
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{National Security Letters}
    \begin{itemize}
    \item Subpoena transactional data
    \item No legal recourse
    \item Come with lifelong gag order
    \item PATRIOT act enabled DHS to send NSLs
    \item 192,499 were filed between 2003 and 2006 \footnote{``A Review of the FBI's Use of National Security Letters'' - US DoJ Inspector General, 2008}
    \item Deemed unconstitutional by SF District Court
    \item Senate bill required for more accountability
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{NSL case law: John Doe vs Ashcroft}
    \begin{itemize}
    \item Anonymous ISP (Calyx) gets NSLs summoning all kinds of data
    \item ACLU files first amendment claim against attorney general John Ashcroft
    \item NY District Court deems NSL provisions unconstitutional
    \item Congress allows limited review through the law
    \item Government appeals and gets the case dismissed
    \item Same NY judge considers revised provisions and strikes them down again
    \item Government might still appeal
    \end{itemize}
\end{frame}

% Perhaps this is a good one to encite a discussion
% Sure, so I've moved the discussion slide after this one
\begin{frame}
    \frametitle{Strategic defense consideration}
    \begin{itemize}
      \item Large concentrations of valuable data
      \item hosted on shared infrastructure
      \item (with a broad and deep attack surface)
      \item on a platform that offers tremendous computing capacity
      \item to anybody with a credit card
    \end{itemize}
\end{frame}

\section{Technical aspects}

\begin{frame}
  \frametitle{Outline}
  \tableofcontents[currentsection,currentsubsection]
\end{frame}

\begin{frame}
    \frametitle{It's more of what we already know}
    \begin{figure}
        \includegraphics[width=\textwidth]{../img/infosuck_org_0x0062.png}
        \label{fig:infosuck}
    \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Reinventing the wheel}
    %/* Some room for discussion: how does our audience feel about the legal
    %bits and pieces? */
    Just like mainframes?
    \begin{itemize}
    \item Scale
    \item Networked environment
    \item No absolute control
    \item Automatic provisioning
    \item Low barrier to entry
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{To trust or not to trust}
    %/* In-depth technical privacy in cloud setting; What does privacy mean in
    %this context, how can it be achieved (in general): all sorts of things are involved
    %(network security, web security, encryption, computing under encryption,
    %etc) */

    Availability: \checkmark \\
    Focus on:
    \begin{itemize}
      \item Confidentiality
      \item Integrity
    \end{itemize}
    We apply:
    \begin{itemize} % Note these are ordered from the most ephemeral to the most real
      \item Identity management
      \item Application security
      \item System \& Network security
      \item Physical security
      \item Hypervisor security % Isn't physical security arguably more 'real' than hypervisor security?
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Identity management}
    Prevent identity fraud:
    \begin{itemize}
      \item Single Sign-On (SSO) outside corporate environments % Maybe not this... but it's related
      \item Multi-factor authentication
      \item Password policies, security questions
      \item VPN connections
      \item SSL validity
      \item Still rests on PKI
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Application security}
    Prevent software abuse:
    \begin{itemize}
      \item Input validation
      \item Secure storage
      \item Avoid logical bugs
      \item Audit logging
      \item Application software patches
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{System \& Network Security}
    Prevent network abuse:
    \begin{itemize}
      \item Firewalling
      \item Secure tunnels % Maybe skip this
      \item Airgapped management network
      \item Central audit logging
      \item Intrusion detection services (IDS)
      \item System software patches (fabric management)
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Physical Security}
    Prevent physical entry:
    \begin{itemize}
      \item Fences
      \item Locks
      \item Guards
      \item Cameras
      \item Badges \& Secure doors
      \item Electrically safe fire extinguishers (inert gas)
      \item Redundant power, backup power
      \item Redundant cooling water
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Hypervisor security}
    % This is an awesome paper about backdoored C compilers
    ``Reflections on Trusting Trust'' (Kevin Thompson, 1991) \\
    Modern equivalent: cloudburst exploit \\
    Prevent breaking out of virtual machines:
    \begin{itemize}
      \item Open source hypervisors
      \item Software management
      \item Host-based intrusion detection
      \item Hope for the best
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Reverse engineers keep Microsoft and Intel honest}
    \begin{figure}
        \includegraphics[width=\textwidth]{../img/iphone5_a6.jpg}
        \label{fig:cloudoverview}
    \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Cloud attacks}
    %/* Attacks, attacks and more attacks; If possible, frighten the audience!
    %Malicious images, simple(r) web application vulnerabilities, etc */
    \begin{itemize}
      \item Simple bruteforcing cloud apps
      \item Cracking in the cloud (Various) % TODO cite
      \item Gigabit DDoS as a service % 250Mbit/s per node!
      \item Poisoning the well (Harron Meer, 2009)
      \item Stealing licence keys (Harron Meer, 2009)
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Brute forcing cloud apps}
    \begin{itemize}
    \item All internet-facing
    \item High traffic
    \item Global
    \item Various endpoints running the same code
    \item Log auditing?
    \item Attackers can try hundreds of login/password combinations per second
    \item Can lock out legitimate users
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Amazon EC2 instances for scientific computing}
    \begin{itemize}
      \item 2 x Intel Xeon X5570 64-bit quad-core
      \item 22 GiB of memory
      \item 2 x NVIDIA Tesla ``Fermi'' M2050 GPUs
      \item 1.7 GB local storage
      \item 10 Gigabit Ethernet
      \item \$2.10 per hour
    \end{itemize}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Amazon EC2 cracking costs, exhaustive}
    8 character password a-z ($26^8$)
    \begin{tabular}{l | r}
    MD5 & 80 seconds \\
    SHA-1 & 261 seconds \\
    NTLM & 65 seconds \\
    bcrypt & $~2.7$ years \\
    \end{tabular}
    
    8 character password a-Z ($52^8$)
    \begin{tabular}{l | r}
    MD5 & $<6$ hours \\
    SHA-1 & $<20$ hours \\
    NTLM & $<5$ hours \\
    bcrypt & $~1400$ years \\
    \end{tabular}

    8 character password a-Z0-9 ($62^8$)
    \begin{tabular}{l | r}
    MD5 & $<1$ day \\
    SHA-1 & $<3$ days \\
    NTLM & $<1$ day \\
    bcrypt & $~8800$ years \\
    \end{tabular}

    \footnotesize{``Cloud computing broke password hashing'' - Rais Mense, 2013}
\end{frame}

\begin{frame}
    \frametitle{Poisoning the AMI well}
    Amazon Machine Images
    \begin{itemize}
      \item Ready-to-run VM images
      \item Public/For-pay/Shared
      \item Browsable repository
    \end{itemize}

    Clobbering the Cloud (Harron Meer, 2009)
    \begin{itemize}
      \item Order of items was randomized - keep submitting until your backdoored image is on the front page
      \item Copyright protection for paid images cracked
      \item Windows licence keys stolen
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Privacy Enhancing Technologies}
    %/* Countermeasures; PETs; best practices; more detailed explanations of
    %systems that give privacy guarantees */
    \begin{itemize}
      \item Only store/transfer encrypted data and let the client encrypt it on their machine
      \item Don't store encryption keys in the cloud
      \item Possibly make use of homomorphic encryption to be able to work with encrypted data
      \item Don't log sensitive data
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Case study: private cyberlocker}
    \begin{itemize}
    \item Secure encrypted data
    \item Deduplication
    \item Key management
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Secure encrypted data}
    \begin{itemize}
    \item Open source design
    \item No use of driver blobs, browser plugins or server-side code
    \item Encryption/decryption only happens in the client
    \item Keys only available on client(s)
    \end{itemize}
\end{frame}

%\begin{frame}
    %\frametitle{Deduplication of encrypted data}
    %Use a checksum of the plaintext leaks information about what is stored.
%\end{frame}

\begin{frame}
    \frametitle{Key management}
    Make backup keys

    Private:
    $k_A = genKey()$
    $k_B = genKey()$
    \dots

    $o = hash(p)$

    Public:
    $o_A = E(o, k_A)$
    $o_B = E(o, k_B)$
    \dots

    $c = E(p,o)$
    % Each file has a different key
    % Low overhead
    % Flexible to add new keys/owners
\end{frame}

\begin{frame}
    \frametitle{What is stored}
    Public cloud:
    \begin{itemize}
    \item Encrypted file with metadata
    \item Checksum of ciphertext
    \item File key (plaintext checksum) encrypted with user keys
    \end{itemize}

    Private desktop, encrypted for personal safekeeping:
    \begin{itemize}
    \item User keys
    \item Locations of owned files for each user key
    \end{itemize}
    % This is small enough to fit on USB, smartphone, inbox or other cloud storage
\end{frame}

\begin{frame}
    \frametitle{Results}
    \begin{itemize}
    \item Usable in public and private cloud
    \item Easy deduplication
    \item Add a new (device) key with your old key
    \item Forward secrecy
    \item Info leak: who shares files with whom
    \item Mitigate this using other anonymity technologies
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Closing}
    %/* Obligatory 'Questions?' slide, possibly with a funny picture. */
    Questions / Discussion
\end{frame}

\begin{frame}<0>
    \frametitle{References}
    \bibliography{../references/references}
    \bibliographystyle{plain}
\end{frame}

\end{document}
